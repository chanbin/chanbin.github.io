---
layout: post
title: '[기본개념] 2. IP Subnet'
subtitle: 'subnet, mask'
categories: management
tags: concept
comments: true
---
> 이 글은 방화벽 운영에 필요한 기본 개념을 정리한 글입니다.

# IP Subnet

IP Subnet 이란, IPv4의 주소 체계 상에서는 42억개 가량의 주소가 있으며, 이 주소들을 낭비없이 효율적으로 사용하기 위한 개념이다. 또한, 적절하게 네트워크를 분배해 주어 내, 외부 또는 네트워크 도메인 간의 분리가 가능하도록 라우팅 해주는 개념이다.

<br>

## 1. Subnetting

Classful Addressing이라 불리며, 클래스를 기반으로 IP 주소 대역을 구분한다.

### 클래스 기반의 주소지정
  
| 클래스 | 비트 | 대역 | 사용 |
| :-----: | :-----: | :-----: | ----- |
|`A` | 첫 비트 0 | 0 ~ 127 | 큰 규모의 네트워크|
|`B` | 두 비트 00 | 128 ~ 191 | |
|`C` | 세 비트 110 | 192 ~ 223 | 작은 규모의 네트워크|
|`D` | 네 비트 1110 | 224 ~ 239 | 멀티캐스트용|
|`E` | 네 비트 1111 | 240 ~ 255 | 예약된 주소|
  
서브넷 마스크에서 2진수의 1로 표시된 부분은 Network ID로 사용하며, 2진수의 0으로 표시된 부분은 Host ID로 사용한다. IP주소 192.168.32.0과 서브넷 마스크 255.255.255.128을 기준으로 계산해 보자.

### Subnetting 계산
  
|IP 주소 | 서브넷 마스크|
|:---:|:---:|
|192.168.32.234 | 255.255.255.128|
|11000000. 10101000. 00100000. 11101010 | 11111111. 11111111. 11111111. 10000000|
  
서브넷 마스크의 1로 표시된 위치는 IP 주소에서 11000000. 10101000. 00100000. 1 까지 이다. 이를 10진수 표기로 변환하면 192.168.32.128이며 이 주소는 Network ID가 된다. 위 IP 주소에서 Host ID는 192.168.32.234에서 192.168.32.128을 뺀 106이다.

<br>

## 2. CIDR

클래스를 할당받아 사용할 때 호스트의 수가 부족하면 IP를 낭비하게 된다. 이를 방지하기위해 나온 개념이 클래스없는 주소지정(Classless Addressing)이다. 현재 가장 많이 쓰이며 할당된 IP주소 대역을 가변적이며 효율적으로 라우팅할 수 있는 시스템이 CIDR(Classless Inter-Domain Routing)이다. 사이더라고 불리며 192.168.0.1/24 라고 표기한다. 슬래시 구분자 뒤에 나오는 표기법이다. BGP-4, RIPv2, OSPF 등 최근에 나온 라우팅 프로토콜에서 CIDR을 지원해준다.

위 표2번의 자료를 다시 사용하면 해당 IP주소의 CIDR은, 서브넷 마스크의 1로 표기된 자릿수 만큼인 /25이다.
